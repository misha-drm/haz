const clip=document.querySelectorAll(".clip"),box=document.querySelectorAll(".works-item");for(let e=0;e<clip.length;e++)box[e].addEventListener("mouseenter",(function(t){clip[e].play()}));const body=document.querySelector("body"),btns=document.querySelectorAll(".btn"),modalClose=document.querySelectorAll(".modal-close"),modalOverlay=document.querySelector(".modal-overlay"),modals=document.querySelectorAll(".modal");btns.forEach(e=>{e.addEventListener("click",e=>{let t=e.currentTarget.getAttribute("data-path");modals.forEach(e=>{e.classList.remove("modal--visible")}),document.querySelector(`[data-target="${t}"]`).classList.add("modal--visible"),modalOverlay.classList.add("modal-overlay--visible"),body.classList.add("noscroll")})}),modalOverlay.addEventListener("click",e=>{e.target!=modalOverlay&&e.target!=modalClose||(modalOverlay.classList.remove("modal-overlay--visible"),body.classList.remove("noscroll"),modals.forEach(e=>{e.classList.remove("modal--visible")}))}),modalClose.forEach(e=>{e.addEventListener("click",e=>{modalOverlay.classList.remove("modal-overlay--visible"),body.classList.remove("noscroll"),modals.forEach(e=>{e.classList.remove("modal--visible")})})});var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var yt=[];function onYouTubeIframeAPIReady(){let e="100%",t="100%";yt.player1=new YT.Player("player1",{width:e,height:t,videoId:"4d118fHF8QE",events:{onReady:onPlayerReady}}),yt.player2=new YT.Player("player2",{width:e,height:t,videoId:"HzUDAaYMNsA"}),yt.player4=new YT.Player("player4",{width:e,height:t,videoId:"5LI1PysAlkU"})}function onPlayerReady(e){e.target.mute(),e.target.playVideo()}const swiper=new Swiper(".swiper-container",{allowTouchMove:!1,keyboard:{enabled:!0},navigation:{nextEl:".case-button-next",prevEl:".case-button-prev"}});swiper.on("transitionStart",(function(){yt.player1.pauseVideo(),yt.player2.pauseVideo(),yt.player4.pauseVideo()})),modalClose.forEach(e=>{e.addEventListener("click",e=>{yt.player1.pauseVideo(),yt.player2.pauseVideo(),yt.player4.pauseVideo()})}),modalOverlay.addEventListener("click",e=>{e.target!=modalOverlay&&e.target!=modalClose||(yt.player1.pauseVideo(),yt.player2.pauseVideo(),yt.player4.pauseVideo())}),swiper.on("transitionEnd",(function(){var e=this.realIndex,t=document.getElementsByClassName("swiper-slide")[e].getElementsByTagName("iframe")[0],r=t.getAttribute("id");null==t&&null==t||(yt[r].mute(),yt[r].playVideo())}));var ReadMore=function(){var e;return{settings:function(){return{content:document.querySelectorAll(".js-read-more"),originalContentArr:[],truncatedContentArr:[],moreLink:"Подробнее",lessLink:"Свернуть"}},init:function(){e=this.settings(),this.bindEvents()},bindEvents:function(){ReadMore.truncateText()},countWords:function(e){return e.split(/\s+/).length},ellipseContent:function(e,t){return e.split(/\s+/).slice(0,t).join(" ")+"..."},truncateText:function(){for(var t=0;t<e.content.length;t++){var r=e.content[t].innerHTML,n=e.content[t].dataset.rmWords,o=ReadMore.ellipseContent(r,n),a=ReadMore.countWords(r);if(e.originalContentArr.push(r),e.truncatedContentArr.push(o),n<a){e.content[t].innerHTML=e.truncatedContentArr[t];var l=t;ReadMore.createLink(l)}}ReadMore.handleClick(e.content)},createLink:function(t){var r=document.createElement("span");r.className="read-more__link-wrap",r.innerHTML='<a id="read-more_'+t+'" class="read-more__link" style="cursor:pointer;">'+e.moreLink+"</a>",e.content[t].parentNode.insertBefore(r,e.content[t].nextSibling)},handleClick:function(t){for(var r=document.querySelectorAll(".read-more__link"),n=0,o=r.length;n<o;n++)r[n].addEventListener("click",(function(){var r=this.getAttribute("id").split("_")[1];t[r].classList.toggle("is-expanded"),"true"!==this.dataset.clicked?(t[r].innerHTML=e.originalContentArr[r],this.innerHTML=e.lessLink,this.dataset.clicked=!0):(t[r].innerHTML=e.truncatedContentArr[r],this.innerHTML=e.moreLink,this.dataset.clicked=!1)}))},openAll:function(){el=document.querySelectorAll(".read-more__link");for(var t=0;t<el.length;t++)content[t].innerHTML=e.truncatedContentArr[t],el[t].innerHTML=e.moreLink}}}();document.querySelector(".js-read-more")&&ReadMore.init(),document.querySelector(".slide-1").addEventListener("click",(function(e){e.preventDefault(),swiper.slideTo(0,0)})),document.querySelector(".slide-2").addEventListener("click",(function(e){e.preventDefault(),swiper.slideTo(1,0)})),document.querySelector(".slide-3").addEventListener("click",(function(e){e.preventDefault(),swiper.slideTo(2,0)})),document.querySelector(".slide-4").addEventListener("click",(function(e){e.preventDefault(),swiper.slideTo(3,0)})),document.querySelector(".slide-5").addEventListener("click",(function(e){e.preventDefault(),swiper.slideTo(4,0)}));